<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Theron: Theron::Receiver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceTheron.html">Theron</a>::<a class="el" href="classTheron_1_1Receiver.html">Receiver</a>
  </div>
</div>
<div class="contents">
<h1>Theron::Receiver Class Reference</h1><!-- doxytag: class="Theron::Receiver" -->
<p>A standalone entity that can accept messages sent by <a class="el" href="classTheron_1_1Actor.html">actors</a>.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;Receiver.h&gt;</code></p>

<p><a href="classTheron_1_1Receiver-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_af52a34e59cded82445938db098ea9e08.html#af52a34e59cded82445938db098ea9e08">Receiver</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#af52a34e59cded82445938db098ea9e08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_a0495c119f3048947e43a8330225c8d45.html#a0495c119f3048947e43a8330225c8d45">~Receiver</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#a0495c119f3048947e43a8330225c8d45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classTheron_1_1Address.html">Address</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_a22a1d3557a6cc167d1ccb9ad9cb95816.html#a22a1d3557a6cc167d1ccb9ad9cb95816">GetAddress</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the unique address of the receiver.  <a href="#a22a1d3557a6cc167d1ccb9ad9cb95816"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class ClassType , class ValueType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_ad2383ac42470759d4c50e801922a8ae7.html#ad2383ac42470759d4c50e801922a8ae7">RegisterHandler</a> (ClassType *const owner, void(ClassType::*handler)(const ValueType &amp;message, const <a class="el" href="classTheron_1_1Address.html">Address</a> from))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers a message handler for a specific message type.  <a href="#ad2383ac42470759d4c50e801922a8ae7"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class ClassType , class ValueType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_ab3a0693b1261d3d0853627d227dac3e6.html#ab3a0693b1261d3d0853627d227dac3e6">DeregisterHandler</a> (ClassType *const owner, void(ClassType::*handler)(const ValueType &amp;message, const <a class="el" href="classTheron_1_1Address.html">Address</a> from))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deregisters a previously registered handler.  <a href="#ab3a0693b1261d3d0853627d227dac3e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_a4cd17c1a51a4f01e66313c2fa0a0de44.html#a4cd17c1a51a4f01e66313c2fa0a0de44">Reset</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets to zero the count of messages received but not yet consumed.  <a href="#a4cd17c1a51a4f01e66313c2fa0a0de44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceTheron_aa154bad6b7514de43642bbbb02ca974d.html#aa154bad6b7514de43642bbbb02ca974d">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_a753087ea4ee8670ae098b4704b4056a4.html#a753087ea4ee8670ae098b4704b4056a4">Count</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of messages received but not yet consumed.  <a href="#a753087ea4ee8670ae098b4704b4056a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceTheron_aa154bad6b7514de43642bbbb02ca974d.html#aa154bad6b7514de43642bbbb02ca974d">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_a5dbee36b18e7c0549ba860d93e2265fd.html#a5dbee36b18e7c0549ba860d93e2265fd">Wait</a> (const <a class="el" href="namespaceTheron_aa154bad6b7514de43642bbbb02ca974d.html#aa154bad6b7514de43642bbbb02ca974d">uint32_t</a> max=1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Waits until one or more messages arrive at the receiver.  <a href="#a5dbee36b18e7c0549ba860d93e2265fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceTheron_aa154bad6b7514de43642bbbb02ca974d.html#aa154bad6b7514de43642bbbb02ca974d">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTheron_1_1Receiver_aaecc6c19f587eac73103dc16c71a45df.html#aaecc6c19f587eac73103dc16c71a45df">Consume</a> (const <a class="el" href="namespaceTheron_aa154bad6b7514de43642bbbb02ca974d.html#aa154bad6b7514de43642bbbb02ca974d">uint32_t</a> max)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Consumes any unconsumed messages available on the receiver, up to a specified limit.  <a href="#aaecc6c19f587eac73103dc16c71a45df"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A standalone entity that can accept messages sent by <a class="el" href="classTheron_1_1Actor.html">actors</a>. </p>
<p>A receiver can be instantiated in non-actor user code. Each receiver has a unique <a class="el" href="classTheron_1_1Address.html">address</a> not shared by any actor and can receive <a class="el" href="classTheron_1_1Actor_afc5ae7842ea425c13440363bcb4ae1f2.html#afc5ae7842ea425c13440363bcb4ae1f2">messages sent to it by actors</a> (usually in response to <a class="el" href="classTheron_1_1Framework_a96cbe3c0726a6d1a9a16afd52edf6b61.html#a96cbe3c0726a6d1a9a16afd52edf6b61">messages sent to those actors</a> by the non-actor code). The <a class="el" href="classTheron_1_1Receiver.html" title="A standalone entity that can accept messages sent by actors.">Receiver</a> provides facilities for synchronizing with the arrival of an expected message, as well as for registering message handlers to handle and process messages as they arrive.</p>
<p>Every receiver instantiated in user code is automatically assigned its own unique <a class="el" href="classTheron_1_1Address.html">address</a>, which enables actors to send messages to it, as if it were an actor itself.</p>
<p>A <a class="el" href="classTheron_1_1Receiver.html" title="A standalone entity that can accept messages sent by actors.">Receiver</a> accepts messages sent to it by other entities, counting how many it has received. It provides methods whereby the thread owning the receiver can query the count of messages received, mark them as consumed, and block to synchronize with the arrival of an expected message indicating that some resource or result has become available.</p>
<p>Receivers also provide the ability to <a class="el" href="classTheron_1_1Receiver_ad2383ac42470759d4c50e801922a8ae7.html#ad2383ac42470759d4c50e801922a8ae7">register message handlers</a> to handle the messages they receive, similar to the handler registration mechanism within actors. This allows the owning thread to register callback-style handler functions. The registered handlers are executed on the arrival of messages of the types for which they are registered. The arrived message is passed to the handler function on execution, allowing it to examine, process, or store its value.</p>
<p>The ability to synchronize with the arrival of messages via <a class="el" href="classTheron_1_1Receiver_a5dbee36b18e7c0549ba860d93e2265fd.html#a5dbee36b18e7c0549ba860d93e2265fd">Wait</a> allows calling threads to ensure they examine the results of executed handler functions only after the messages they handle have arrived, and the associated handlers have been executed.</p>
<p>The maximum number of receivers that can be created in an application is limited by the <a class="el" href="Defines_8h_a9856afae5f4e1b586b441d28eef9f3ca.html#a9856afae5f4e1b586b441d28eef9f3ca">THERON_MAX_RECEIVERS</a> define, which defines the number of unique receiver addresses.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://www.theron-library.com/index.php?t=page&amp;p=Receiver">Using a Receiver</a> </dd>
<dd>
<a href="http://www.theron-library.com/index.php?t=page&amp;p=TerminatingTheFramework">Terminating the Framework</a> </dd></dl>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
